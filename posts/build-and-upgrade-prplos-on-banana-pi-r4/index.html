<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Build and upgrade prplOS on Banana Pi R4" />
<meta name="author" content="Dineshkumar Loganathan" />
<meta property="og:locale" content="en" />
<meta name="description" content="This blog will help to build and upgrade prplOS on Banana Pi R4" />
<meta property="og:description" content="This blog will help to build and upgrade prplOS on Banana Pi R4" />
<link rel="canonical" href="https://dineshloganathan395.github.io/posts/build-and-upgrade-prplos-on-banana-pi-r4/" />
<meta property="og:url" content="https://dineshloganathan395.github.io/posts/build-and-upgrade-prplos-on-banana-pi-r4/" />
<meta property="og:site_name" content="Dineshkumar Loganathan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-07T10:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Build and upgrade prplOS on Banana Pi R4" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dineshkumar Loganathan","url":"https://www.linkedin.com/in/dineshloganathan395/"},"dateModified":"2025-07-07T10:00:00+05:30","datePublished":"2025-07-07T10:00:00+05:30","description":"This blog will help to build and upgrade prplOS on Banana Pi R4","headline":"Build and upgrade prplOS on Banana Pi R4","mainEntityOfPage":{"@type":"WebPage","@id":"https://dineshloganathan395.github.io/posts/build-and-upgrade-prplos-on-banana-pi-r4/"},"url":"https://dineshloganathan395.github.io/posts/build-and-upgrade-prplos-on-banana-pi-r4/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Build and upgrade prplOS on Banana Pi R4 | Dineshkumar Loganathan
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Dineshkumar Loganathan">
<meta name="application-name" content="Dineshkumar Loganathan">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

    <!-- Web Analytics -->
    
      
      
      
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script defer src="https://www.googletagmanager.com/gtag/js?id=G-9MQZNW2HJ8"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-9MQZNW2HJ8');
  });
</script>

      
    
      
      
      
        <!-- GoatCounter -->
<script
  async
  src="https://gc.zgo.at/count.js"
  data-goatcounter="https://dineshloganathan395.goatcounter.com/count"
></script>

      
    
      
      
      
    
      
      
      
    
      
      
      
    
      
      
      
    

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/images/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Dineshkumar Loganathan</a>
    <p class="site-subtitle fst-italic mb-0">Linux and Open Source Software enthusiast</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://www.linkedin.com/in/dineshloganathan395/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="https://github.com/dineshloganathan395"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dineshloganathan395','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Build and upgrade prplOS on Banana Pi R4</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>Build and upgrade prplOS on Banana Pi R4</h1>
    
      <p class="post-desc fw-light mb-4">This blog will help to build and upgrade prplOS on Banana Pi R4</p>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1751862600"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jul  7, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                <a href="https://www.linkedin.com/in/dineshloganathan395/">Dineshkumar Loganathan</a>
                
              
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1077 words"
>
  <em>5 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">Build and upgrade prplOS on Banana Pi R4</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">Build and upgrade prplOS on Banana Pi R4</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the previous article
<a href="https://dineshloganathan395.github.io/posts/getting-started-with-prplos-on-banana-pi-r4">Getting Started with prplOS on Banana Pi R4</a>,
we have seen how to explore prplOS Image on Banana PI R4.
prplOS is booted using the pre-built image downloaded from the github repo.
In this article, we can build our own custom prplOS Image for Banana PI R4
including custom modifications and local patches added to support the new hardware.</p>
</div>
<div class="paragraph">
<p>prplOS can be built for any OpenWrt compatible devices with custom build instructions
tailored to the Target hardware and has several advantages like</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Explore the prplOS build system and architecture</p>
</li>
<li>
<p>Bring-up new hardware support within prplOS</p>
</li>
<li>
<p>Adapt and configure prplOS to harness all supported features on new hardware</p>
</li>
<li>
<p>Explore prplOS components, features and packages</p>
</li>
<li>
<p>Develop and Integrate new features in prplOS</p>
</li>
</ol>
</div>
<div class="imageblock text-center">
<div class="content">
<a href="/assets/img/posts/prpl_logo.png" class="popup img-link  shimmer"><img src="/assets/img/posts/prpl_logo.png" alt="prpl logo" width="320px" loading="lazy"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-prplos-image-for-banana-pi-r4"><span class="me-2">Build prplOS Image for Banana Pi R4</span><a href="#build-prplos-image-for-banana-pi-r4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>bpi-r4-dev-resources</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/dineshloganathan395/bpi-r4-dev-resources">bpi-r4-dev-resources</a>
is my github repo which contains Banana Pi R4 related dev resources like</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom patches</p>
</li>
<li>
<p>Build Configurations</p>
</li>
<li>
<p>Image artifacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For building prplOS for the Banana Pi R4 using the prplos-v4.0.0 release,
<strong>Download</strong> the required patch from the <strong>bpi-r4-dev-resources</strong> github repo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">user@linux:[bpi-r4-dev-resources]$ tree --charset=ascii
.
|-- prplos
|   `-- prplos-v4.0.0
|       `-- patches
|           |-- feed_mediatek
|           |   |-- 0001-filogic-Disable-generating-snand-build-artifacts.patch
|           |   |-- 0002-filogic-Remove-eth2-from-WAN-interface-mapping-for-b.patch
|           |   |..... skipped
|           `-- prplos
|               |-- 0001-mtk_filogic-Add-bananapi_bpi-r4-support-in-prplos.patch
|               |-- 0002-uboot-mediatek-Add-latest-uboot-mediatek-from-openwr.patch
|               |..... skipped
`-- README.md

6 directories, 8 files</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Setting Up the prplOS Build Environment</strong></p>
</div>
<div class="paragraph">
<p>For detailed instructions on setting up the build environment, refer to the
<a href="https://gitlab.com/prpl-foundation/prplos/prplos/-/wikis/Building-prplOS">Building-prplOS</a>
page on the official wiki.</p>
</div>
<div class="paragraph">
<p><strong>1. Initialize prplOS repository</strong></p>
</div>
<div class="paragraph">
<p>Clone the prplOS repository using the below command and navigate to the prplos
build directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">git clone https://gitlab.com/prpl-foundation/prplos/prplos.git
cd prplos</code></pre>
</div>
</div>
<div class="paragraph">
<p>Checkout to prplOS latest stable release, <strong>prplos-v4.0.0</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">git checkout prplos-v4.0.0</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>2. Add Banana Pi R4 support in prplos</strong></p>
</div>
<div class="paragraph">
<p>To add Banana Pi R4 support in prplOS, a custom set of patches needs to be
applied to the prplos directory.</p>
</div>
<div class="paragraph">
<p>These patches enable the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Include Banana Pi R4&#8217;s Target Device model name in mtk_filogic.yml, allowing the BPI-R4 to be built as part of prplOS.</p>
</li>
<li>
<p>Integrate the latest uboot-mediatek from OpenWrt to add support for Banana PI R4</p>
</li>
<li>
<p>Disable Banana PI R4 snand builds since snand support is currently not available</p>
</li>
<li>
<p>Enable arm-trusted-firmware and u-boot-mt7988 related packages specific to the Banana Pi R4</p>
</li>
<li>
<p>Update LAN and WAN interface names to lan1 and wan, matching the Banana Pi R4’s interface naming</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Apply the relevant patches in prplos directory using the follow command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">git am ~/Downloads/bpi-r4-dev-resources/prplos/prplos-v4.0.0/Patches/prplos/*.patch</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>3. Configure Target profile for prplOS build</strong></p>
</div>
<div class="paragraph">
<p>gen_config.py is a Python helper script in prplOS that simplifies selecting the
target device profile and features required for building prplOS images.</p>
</div>
<div class="paragraph">
<p>It automatically configures the necessary build options, target architecture,
and packages based on the selected profile instead of using <code>make menuconfig</code> to
select and configure the Target.</p>
</div>
<div class="paragraph">
<p>To configure the build for Banana Pi R4, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">./scripts/gen_config.py mtk_filogic prpl security</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mtk_filogic</code> specifies the target architecture (MediaTek Filogic).</p>
</li>
<li>
<p><code>prpl</code> enables prpl specific packages and configurations.</p>
</li>
<li>
<p><code>security</code> includes additional security-related packages for the build.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>4. Add Banana Pi R4 support in feed_mediatek</strong></p>
</div>
<div class="paragraph">
<p>The feed_mediatek directory contains the below for building prplOS on MediaTek
platforms</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Target related files</p>
</li>
<li>
<p>Kernel related DTS, Configs, Files and Patches</p>
</li>
<li>
<p>Mediatek specific driver and packages</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A custom set of patches needs to be applied to the feed_mediatek directory which
includes custom changes for necessary image generation and network configurations
to build and boot prplOS Image on Banana Pi R4 device</p>
</div>
<div class="paragraph">
<p>These patches includes the following custom changes</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Disable generating snand build artifacts</p>
</li>
<li>
<p>Remove eth2 from WAN interface mapping for bpi-r4</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Apply the relevant patches in feed_mediatek directory using the follow command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">git am ~/Downloads/bpi-r4-dev-resources/prplos/prplos-v4.0.0/Patches/feed_mediatek/*.patch</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>5. Build prplOS</strong></p>
</div>
<div class="paragraph">
<p>Finally, start building prplOS with the following make command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">make V=e -j$(nproc)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Build Artifacts</strong></p>
</div>
<div class="paragraph">
<p>Below is the list of prplOS firmware images generated for Banana Pi R4</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>SD Card Image</strong> - bin/targets/mediatek/filogic/prplos-mediatek-filogic-bananapi_bpi-r4-sdcard.img.gz</p>
</li>
<li>
<p><strong>Sysupgrade Image</strong> - bin/targets/mediatek/filogic/prplos-mediatek-filogic-bananapi_bpi-r4-squashfs-sysupgrade.itb</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrade-prplos-image-on-banana-pi-r4"><span class="me-2">Upgrade prplOS Image on Banana PI R4</span><a href="#upgrade-prplos-image-on-banana-pi-r4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="method-1-burn-prplos-image-to-sd-card"><span class="me-2">Method 1 : Burn prplOS Image to SD Card</span><a href="#method-1-burn-prplos-image-to-sd-card" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="paragraph">
<p>Burn prplOS Image to SD Card using the instructions provided in the official
<a href="https://docs.banana-pi.org/en/BPI-R4/GettingStarted_BPI-R4">Banana PI R4 document</a>.
Once the Image is burned, Insert the SD Card into Banana PI R4 and switch
Boot Jumper to boot from SD.</p>
</div>
<div class="paragraph">
<p>Power on the Banana Pi R4 to boot your own prplOS Image from the SD card.</p>
</div>
</div>
<div class="sect2">
<h3 id="method-2-image-upgrade-through-sysupgrade-feature"><span class="me-2">Method 2: Image upgrade through Sysupgrade feature</span><a href="#method-2-image-upgrade-through-sysupgrade-feature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="paragraph">
<p>If prplOS Image is already flashed in the Banana PI R4, We can use sysupgrade
feature to upgrade the latest image without updating the SD card manually.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Copy the Sysupgrade Image into Banana PI R4 using the scp command</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">root@prplOS:/# cat /proc/version
Linux version 6.6.89 (user@3392f6529df3) (aarch64-openwrt-linux-musl-gcc (OpenWrt GCC 12.3.0 r0+25055-4b63d62a00) 12.3.0, GNU ld (GNU Binutils) 2.40.0) #0 SMP Mon Jun 30 05:52:34 2025

root@prplOS:/# scp user@172.16.0.215:~/Downloads/prplos-mediatek-filogic-bananapi_bpi-r4-squashfs-sysupgrade.itb /tmp/
user@172.16.0.215's password:
prplos-mediatek-filogic-bananapi_bpi-r4-squas 100%   36MB  36.0MB/s   00:01</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Upgrade the latest prplOS Image in Banana PI R4 through sysupgrade command</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">root@prplOS:/# sysupgrade -v -n /tmp/prplos-mediatek-filogic-bananapi_bpi-r4-squashfs-sysupgrade.itb
Mon Jul  7 12:44:40 GMT 2025 upgrade: Commencing upgrade. Closing all shell sessions.
Watchdog handover: fd=3
- watchdog -
Watchdog does not have CARDRESET support
Mon Jul  7 12:34:08 GMT 2025 upgrade: Sending TERM to remaining processes ...

.... skipped ....

Mon Jul  7 12:44:55 UTC 2025 upgrade: Performing system upgrade...
fitblk: /dev/fit0 released
fitblk: /dev/fitrw released
8+0 records in
8+0 records out
Mon Jul  7 12:45:02 UTC 2025 upgrade: Upgrade completed
Mon Jul  7 12:45:03 UTC 2025 upgrade: Rebooting system...
umount: can't unmount /dev: Resource busy
umount: can't unmount /tmp
[  356.673819] reboot: Restarting system

.... skipped ....

BusyBox v1.36.1 (2025-06-30 05:52:34 UTC) built-in shell (ash)

                   _  ___  ____
  _ __  _ __ _ __ | |/ _ \/ ___|
 | '_ \| '__| '_ \| | | | \___ \
 | |_) | |  | |_) | | |_| |___) |
 | .__/|_|  | .__/|_|\___/|____/
 |_|        |_| based on OpenWrt
 --------------------------------
      prplOS 3.2.0-4b63d62a
 --------------------------------

=== WARNING! =====================================
There is no root password defined on this device!
Use the "passwd" command to set up a new password
in order to prevent unauthorized SSH logins.
--------------------------------------------------
root@prplOS:/#
root@prplOS:/# cat /proc/version
Linux version 6.6.89 (user@754c8cc7d26d) (aarch64-openwrt-linux-musl-gcc (OpenWrt GCC 12.3.0 r0+25055-4b63d62a00) 12.3.0, GNU ld (GNU Binutils) 2.40.0) #0 SMP Mon Jun 30 05:52:34 2025</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could now able to build and upgrade latest prplOS Image through various Image
upgrade methods in Banana PI R4. It opens up a way to build and explore prplOS
architecture through various customizations of our own.</p>
</div>
<div class="paragraph">
<p>In the future posts, we will cover how to enable, explore WiFi and other prplOS
related features in Banana PI R4.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/blog/">blog</a>,
          <a href="/categories/tutorial/">tutorial</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/prplos/"
            class="post-tag no-text-decoration"
          >prplOS</a>
        
          <a
            href="/tags/wireless/"
            class="post-tag no-text-decoration"
          >wireless</a>
        
          <a
            href="/tags/routers/"
            class="post-tag no-text-decoration"
          >routers</a>
        
          <a
            href="/tags/mediatek/"
            class="post-tag no-text-decoration"
          >mediatek</a>
        
          <a
            href="/tags/filogic/"
            class="post-tag no-text-decoration"
          >filogic</a>
        
          <a
            href="/tags/bpi/"
            class="post-tag no-text-decoration"
          >bpi</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdineshloganathan395.github.io%2Fposts%2Fbuild-and-upgrade-prplos-on-banana-pi-r4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin">
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

      

      <a href="https://twitter.com/intent/tweet?text=Build%20and%20upgrade%20prplOS%20on%20Banana%20Pi%20R4%20-%20Dineshkumar%20Loganathan&url=https%3A%2F%2Fdineshloganathan395.github.io%2Fposts%2Fbuild-and-upgrade-prplos-on-banana-pi-r4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Build%20and%20upgrade%20prplOS%20on%20Banana%20Pi%20R4%20-%20Dineshkumar%20Loganathan&u=https%3A%2F%2Fdineshloganathan395.github.io%2Fposts%2Fbuild-and-upgrade-prplos-on-banana-pi-r4%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fdineshloganathan395.github.io%2Fposts%2Fbuild-and-upgrade-prplos-on-banana-pi-r4%2F&text=Build%20and%20upgrade%20prplOS%20on%20Banana%20Pi%20R4%20-%20Dineshkumar%20Loganathan" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/vxworks-7-sdk-for-raspberry-pi-3/">VxWorks 7 SDK for Raspberry Pi 3</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/build-and-upgrade-prplos-on-banana-pi-r4/">Build and upgrade prplOS on Banana Pi R4</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/getting-started-with-prplos-on-banana-pi-r4/">Getting Started with prplOS on Banana Pi R4</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/cross-compile-applications-for-openwrt/">Cross compile applications for OpenWrt</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/build-openwrt-for-ipq-devices/">Build your own OpenWrt firmware for IPQ devices</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/routers/">routers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wireless/">wireless</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/openwrt/">openwrt</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/armsr/">armsr</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bpi/">bpi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/filogic/">filogic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mediatek/">mediatek</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/prplos/">prplOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/qemu/">qemu</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/feed-ipq/">feed-ipq</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/vxworks-7-sdk-for-raspberry-pi-3/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1753245000"
  data-df="ll"
  
>
  Jul 23, 2025
</time>

              <h4 class="pt-0 my-2">VxWorks 7 SDK for Raspberry Pi 3</h4>
              <div class="text-muted">
                <p>This blog will help to boot VxWorks 7 SDK for Raspberry Pi 3</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/getting-started-with-prplos-on-banana-pi-r4/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1751344200"
  data-df="ll"
  
>
  Jul  1, 2025
</time>

              <h4 class="pt-0 my-2">Getting Started with prplOS on Banana Pi R4</h4>
              <div class="text-muted">
                <p>Learn how to get started with prplOS on your Banana Pi R4 in this blog</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/cross-compile-applications-for-openwrt/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1742531400"
  data-df="ll"
  
>
  Mar 21, 2025
</time>

              <h4 class="pt-0 my-2">Cross compile applications for OpenWrt</h4>
              <div class="text-muted">
                <p>This blog will help to cross-compile applications using OpenWrt toolchain</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/getting-started-with-prplos-on-banana-pi-r4/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Getting Started with prplOS on Banana Pi R4</p>
    </a>
  

  
    <a
      href="/posts/vxworks-7-sdk-for-raspberry-pi-3/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>VxWorks 7 SDK for Raspberry Pi 3</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <em class="fst-normal">Dineshkumar Loganathan</em>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.2.4"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/routers/">routers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wireless/">wireless</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/openwrt/">openwrt</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/armsr/">armsr</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bpi/">bpi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/filogic/">filogic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mediatek/">mediatek</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/prplos/">prplOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/qemu/">qemu</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/feed-ipq/">feed-ipq</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <script>
  var disqus_config = function () {
    this.page.url = 'https://dineshloganathan395.github.io/posts/build-and-upgrade-prplos-on-banana-pi-r4/';
    this.page.identifier = '/posts/build-and-upgrade-prplos-on-banana-pi-r4/';
  };

  function addDisqus() {
    let disqusThread = document.createElement('div');
    let paragraph = document.createElement('p');

    disqusThread.id = 'disqus_thread';
    paragraph.className = 'text-center text-muted small';
    paragraph.innerHTML = 'Comments powered by <a href="https://disqus.com/">Disqus</a>.';
    disqusThread.appendChild(paragraph);

    const footer = document.querySelector('footer');
    footer.insertAdjacentElement("beforebegin", disqusThread);
  }function reloadDisqus(event) {
    if (event.source === window && event.data && event.data.id === Theme.ID) {if (typeof DISQUS === 'undefined') {
        return;
      }

      if (document.readyState == 'complete') {
        DISQUS.reset({ reload: true, config: disqus_config });
      }
    }
  }

  addDisqus();

  if (Theme.switchable) {
    addEventListener('message', reloadDisqus);
  }var disqusObserver = new IntersectionObserver(
    function (entries) {
      if (entries[0].isIntersecting) {
        var d = document,
          s = d.createElement('script');
        s.src = 'https://dineshloganathan395.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);

        disqusObserver.disconnect();
      }
    },
    { threshold: [0] }
  );

  disqusObserver.observe(document.getElementById('disqus_thread'));
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

